# config.yml

backend:
  name: git-gateway
  branch: netlify # Branch to update (optional; defaults to master)
media_folder: 'assets/uploads'
public_folder: "/assets/uploads"
# publish_mode: editorial_workflow
site_url: https://roleplay.tinkerswan.com

_page_fields: &page_fields
  - { label: 'Title', name: "title", widget: 'string' }
  - { label: 'Body', name: 'body', widget: 'markdown' }
  - { label: 'Nav Order', name: "nav_order", widget: 'number', default: 1, value_type: 'int' }
  - { label: 'Table of Contents', name: "has_toc", widget: 'boolean', default: true }

collections:
  - name: 'gameplay'
    label: 'Game Play'
    folder: 'gameplay/'
    create: true
    slug: "{{slug}}"
    editor:
      preview: false
    fields: 
      <<: *page_fields
      - { label: 'Parent', name: "parent", widget: 'string', default: 'Game Play' }
  
  - name: 'content'
    label: 'Content'
    folder: 'content/'
    create: true
    slug: "{{slug}}"
    editor:
      preview: false
    fields:
      - { label: 'Title', name: "title", widget: 'string' }
      - { label: 'Body', name: 'body', widget: 'markdown' }
      - { label: 'Parent', name: "parent", widget: 'string', default: 'Skills' }
      - { label: 'Nav Order', name: "nav_order", widget: 'number', default: 1, value_type: 'int' }
      - { label: 'Table of Contents', name: "has_toc", widget: 'boolean', default: true }


  - name: 'notes'
    label: 'Notes'
    folder: 'notes/'
    create: true
    slug: "{{slug}}"
    editor:
      preview: false
    fields:
      - { label: 'Title', name: "title", widget: 'string' }
      - { label: 'Body', name: 'body', widget: 'markdown' }
      - { label: 'Parent', name: "parent", widget: 'string', default: 'Notes' }
      - { label: 'Nav Order', name: "nav_order", widget: 'number', default: 1, value_type: 'int' }
      - { label: 'Table of Contents', name: "has_toc", widget: 'boolean', default: true }

  - name: 'clippings'
    label: 'Clippings'
    folder: '_clippings/'
    create: true
    slug: "{{slug}}"
    editor:
      preview: false
    fields:
      - { label: 'Title', name: 'title', widget: 'string' }
      - { label: 'Clipping', name: 'clipping', widget: 'string' }
      - label: Notes
        name: 'notes'
        widget: 'list'
        max: 5
        min: 1
        summary: '{{fields.note}}'
        collapsed: true
        default: 
          - "note..."
        field: {label: Note, name: note, widget: string}
        allow_add: true
      
      - label: Tags
        name: tags
        widget: 'list'
        max: 5
        min: 1
        default: 
          - roll
